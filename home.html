<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>still here</title>

  <!-- Font & Favicon -->
  <link href="https://fonts.googleapis.com/css2?family=Special+Elite&display=swap" rel="stylesheet" />
  <link rel="icon" href="assets/favicon.ico" type="image/x-icon" />

  <!-- Styles -->
  <style>
    body {
      font-family: 'Special Elite', cursive;
      background: url('assets/bg.jpg') no-repeat center center fixed;
      background-size: cover;
      backdrop-filter: blur(4px);
      overflow-x: hidden;
      margin: 0;
      padding: 0;
      color: #fff;
    }

    .letter-list {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 200px;
      padding: 80px 20px;
    }

    .letter-entry {
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
      max-width: 800px;
      width: 100%;
    }

    .envelope {
      background: #fdfdfd;
      color: #222;
      border-radius: 10px;
      padding: 20px;
      width: 280px;
      box-shadow: 0 5px 30px rgba(0,0,0,0.5);
      cursor: pointer;
      transition: transform 0.3s ease;
      text-align: center;
      font-size: 14px;
      position: relative;
      z-index: 1;
    }

    .envelope:hover {
      transform: scale(1.05);
    }

    .paper-slide {
      display: none;
      font-size: 12px;
      color: #888;
      margin-top: 8px;
      font-style: italic;
    }

    .paper-mini {
      font-weight: bold;
      color: #444;
      font-size: 15px;
      margin-top: 4px;
    }

    .paper {
      display: none;
      background: #fffefc;
      color: #222;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.3);
      font-size: 14px;
      font-family: 'Special Elite', cursive;
      line-height: 1.8;
      max-width: 500px;
      margin-top: 30px;
      transform: translateY(0);
      transition: transform 0.4s ease, opacity 0.4s ease;
      z-index: 2;
    }

    .paper.show {
      display: block;
      transform: translateY(-20px);
      opacity: 1;
    }

    .paper.fullscreen {
      transform: scale(1.15);
      z-index: 5;
    }
  </style>
</head>
<body>

  <!-- Music Controls -->
  <audio id="bgMusic" src="assets/bg-music.mp3" autoplay loop></audio>
  <button id="mute-btn">mute</button>

  <!-- Letters -->
  <div class="letters-timeline">
    <div class="letter-list">

      <!-- üíå Example Letter Entry -->
      <div class="letter-entry">
        <div class="envelope" data-id="1" data-stage="0">
          <div class="paper-slide">
            <div class="tap-hint">tap to read</div>
            <div class="paper-mini">‚Äúeven storms rest...‚Äù</div>
          </div>
        </div>
        <div class="paper">
          hey love i know it‚Äôs been heavy lately and everything feels like it‚Äôs falling apart but please hold on because this pain won‚Äôt last forever you‚Äôre doing better than you think and i‚Äôm proud of how far you‚Äôve come you don‚Äôt have to hide how you feel not from me just rest your head on my words for a while and let yourself breathe for once
        </div>
      </div>

      <!-- Repeat letter-entry blocks for Letter 2, 3, etc... -->
      <div class="letter-entry">
        <div class="envelope" data-id="2" data-stage="0">
          <div class="paper-slide">
            <div class="tap-hint">tap to read</div>
            <div class="paper-mini">‚Äúi miss you too‚Äù</div>
          </div>
        </div>
        <div class="paper">
          i know there are days when you miss me more than others when the silence feels louder and your chest a little tighter and if you‚Äôre reading this now then maybe today is one of those days so listen to me closely i miss you too i miss your voice your eyes your smile the way you talk and breathe and exist and i promise one day this space between us won‚Äôt feel so wide
        </div>
      </div>

    </div>
  </div>

  <!-- JS Toggle Logic -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const envelopes = document.querySelectorAll(".envelope");
      const muteBtn = document.getElementById("mute-btn");
      const bgMusic = document.getElementById("bgMusic");

      envelopes.forEach(env => {
        const slide = env.querySelector(".paper-slide");
        const paper = env.parentElement.querySelector(".paper");

        env.addEventListener("click", () => {
          let stage = parseInt(env.dataset.stage || "0");

          // Reset other envelopes
          envelopes.forEach(other => {
            if (other !== env) {
              other.dataset.stage = "0";
              other.classList.remove("open");
              const s = other.querySelector(".paper-slide");
              const p = other.parentElement.querySelector(".paper");
              if (s) s.style.display = "none";
              if (p) {
                p.classList.remove("show", "fullscreen");
              }
            }
          });

          // Toggle logic
          if (stage === 0) {
            if (slide) slide.style.display = "block";
            env.dataset.stage = "1";
          } else if (stage === 1) {
            if (paper) {
              paper.classList.add("show");
              env.dataset.stage = "2";
            }
          } else if (stage === 2) {
            paper.classList.add("fullscreen");
            env.dataset.stage = "3";
          } else {
            paper.classList.remove("fullscreen");
            env.dataset.stage = "2";
          }
        });
      });

      muteBtn.addEventListener("click", () => {
        if (bgMusic.paused) {
          bgMusic.play();
          muteBtn.textContent = "mute";
        } else {
          bgMusic.pause();
          muteBtn.textContent = "unmute";
        }
      });
    });
  </script>

</body>
</html>
